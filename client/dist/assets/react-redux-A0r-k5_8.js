import{R as C,t as D}from"./react-kKePHxyd.js";import{w as L}from"./use-sync-external-store-Es0P2TOp.js";import{r as M}from"./react-dom-oAQgXSaV.js";function H(e){e()}var E=H,P=e=>E=e,V=()=>E,s="default"in C?D:C,g=Symbol.for("react-redux-context"),m=typeof globalThis<"u"?globalThis:{};function z(){if(!s.createContext)return{};const e=m[g]??(m[g]=new Map);let n=e.get(s.createContext);return n||(n=s.createContext(null),e.set(s.createContext,n)),n}var a=z(),B=()=>{throw new Error("uSES not initialized!")};function v(e=a){return function(){return s.useContext(e)}}var R=v(),k=B,T=e=>{k=e},W=(e,n)=>e===n;function I(e=a){const n=e===a?R:v(e);return function(t,o={}){const{equalityFn:r=W,devModeChecks:c={}}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:f,getServerState:i,stabilityCheck:b,identityFunctionCheck:p}=n();s.useRef(!0);const x=s.useCallback({[t.name](d){return t(d)}}[t.name],[t,b,c.stabilityCheck]),S=k(f.addNestedSub,l.getState,i||l.getState,x,r);return s.useDebugValue(S),S}}var Y=I();function _(){const e=V();let n=null,u=null;return{clear(){n=null,u=null},notify(){e(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){let t=[],o=n;for(;o;)t.push(o),o=o.next;return t},subscribe(t){let o=!0,r=u={callback:t,next:null,prev:u};return r.prev?r.prev.next=r:n=r,function(){!o||n===null||(o=!1,r.next?r.next.prev=r.prev:u=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var w={notify(){},get:()=>[]};function q(e,n){let u,t=w,o=0,r=!1;function c(h){b();const U=t.subscribe(h);let y=!1;return()=>{y||(y=!0,U(),p())}}function l(){t.notify()}function f(){d.onStateChange&&d.onStateChange()}function i(){return r}function b(){o++,u||(u=n?n.addNestedSub(f):e.subscribe(f),t=_())}function p(){o--,u&&o===0&&(u(),u=void 0,t.clear(),t=w)}function x(){r||(r=!0,b())}function S(){r&&(r=!1,p())}const d={addNestedSub:c,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:i,trySubscribe:x,tryUnsubscribe:S,getListeners:()=>t};return d}var A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K=A?s.useLayoutEffect:s.useEffect;function j({store:e,context:n,children:u,serverState:t,stabilityCheck:o="once",identityFunctionCheck:r="once"}){const c=s.useMemo(()=>{const i=q(e);return{store:e,subscription:i,getServerState:t?()=>t:void 0,stabilityCheck:o,identityFunctionCheck:r}},[e,t,o,r]),l=s.useMemo(()=>e.getState(),[e]);K(()=>{const{subscription:i}=c;return i.onStateChange=i.notifyNestedSubs,i.trySubscribe(),l!==e.getState()&&i.notifyNestedSubs(),()=>{i.tryUnsubscribe(),i.onStateChange=void 0}},[c,l]);const f=n||a;return s.createElement(f.Provider,{value:c},u)}var Z=j;function N(e=a){const n=e===a?R:v(e);return function(){const{store:t}=n();return t}}var F=N();function G(e=a){const n=e===a?F:N(e);return function(){return n().dispatch}}var $=G();T(L.useSyncExternalStoreWithSelector);P(M.unstable_batchedUpdates);export{Z as P,Y as a,$ as u};
