import{r as d,R as un}from"./react-kKePHxyd.js";import{r as ln}from"./react-dom-oAQgXSaV.js";import{t as bt}from"./tabbable-d5-JCEPc.js";function pe(e){return an(e)?(e.nodeName||"").toLowerCase():"#document"}function ie(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ve(e){var t;return(t=(an(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function an(e){return e instanceof Node||e instanceof ie(e).Node}function J(e){return e instanceof Element||e instanceof ie(e).Element}function ne(e){return e instanceof HTMLElement||e instanceof ie(e).HTMLElement}function ht(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ie(e).ShadowRoot}function We(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Sn(e){return["table","td","th"].includes(pe(e))}function yt(e){const t=wt(),n=se(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Dn(e){let t=Ie(e);for(;ne(t)&&!Se(t);){if(yt(t))return t;t=Ie(t)}return null}function wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Se(e){return["html","body","#document"].includes(pe(e))}function se(e){return ie(e).getComputedStyle(e)}function nt(e){return J(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ie(e){if(pe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ht(e)&&e.host||ve(e);return ht(t)?t.host:t}function fn(e){const t=Ie(e);return Se(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&We(t)?t:fn(t)}function xe(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=fn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),c=ie(o);return i?t.concat(c,c.visualViewport||[],We(o)?o:[],c.frameElement&&n?xe(c.frameElement):[]):t.concat(o,xe(o,[],n))}function le(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ee(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ht(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function xt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Fn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function dn(e){return e.mozInputSource===0&&e.isTrusted?!0:mn()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Et(e){return!mn()&&e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Rt(){return/apple/i.test(navigator.vendor)}function mn(){const e=/android/i;return e.test(xt())||e.test(Fn())}function gn(){return xt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Ue(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Nn(e){return"nativeEvent"in e}function _n(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function ct(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function we(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Bn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Tt(e){return ne(e)&&e.matches(Bn)}function te(e){e.preventDefault(),e.stopPropagation()}const Kn=["top","right","bottom","left"],Bt=["start","end"],Kt=Kn.reduce((e,t)=>e.concat(t,t+"-"+Bt[0],t+"-"+Bt[1]),[]),De=Math.min,Oe=Math.max,Ge=Math.round,Ae=Math.floor,Ee=e=>({x:e,y:e}),Wn={left:"right",right:"left",bottom:"top",top:"bottom"},Vn={start:"end",end:"start"};function vt(e,t,n){return Oe(e,De(t,n))}function Ne(e,t){return typeof e=="function"?e(t):e}function he(e){return e.split("-")[0]}function fe(e){return e.split("-")[1]}function pn(e){return e==="x"?"y":"x"}function Ot(e){return e==="y"?"height":"width"}function rt(e){return["top","bottom"].includes(he(e))?"y":"x"}function Ct(e){return pn(rt(e))}function hn(e,t,n){n===void 0&&(n=!1);const r=fe(e),o=Ct(e),i=Ot(o);let c=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=Qe(c)),[c,Qe(c)]}function Hn(e){const t=Qe(e);return[Je(e),t,Je(t)]}function Je(e){return e.replace(/start|end/g,t=>Vn[t])}function $n(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:c;default:return[]}}function jn(e,t,n,r){const o=fe(e);let i=$n(he(e),n==="start",r);return o&&(i=i.map(c=>c+"-"+o),t&&(i=i.concat(i.map(Je)))),i}function Qe(e){return e.replace(/left|right|bottom|top/g,t=>Wn[t])}function qn(e){return{top:0,right:0,bottom:0,left:0,...e}}function vn(e){return typeof e!="number"?qn(e):{top:e,right:e,bottom:e,left:e}}function Ze(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function Wt(e,t,n){let{reference:r,floating:o}=e;const i=rt(t),c=Ct(t),s=Ot(c),a=he(t),l=i==="y",h=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[s]/2-o[s]/2;let u;switch(a){case"top":u={x:h,y:r.y-o.height};break;case"bottom":u={x:h,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:f};break;case"left":u={x:r.x-o.width,y:f};break;default:u={x:r.x,y:r.y}}switch(fe(t)){case"start":u[c]-=p*(n&&l?-1:1);break;case"end":u[c]+=p*(n&&l?-1:1);break}return u}const zn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:c}=n,s=i.filter(Boolean),a=await(c.isRTL==null?void 0:c.isRTL(t));let l=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:f}=Wt(l,r,a),p=r,u={},m=0;for(let g=0;g<s.length;g++){const{name:O,fn:y}=s[g],{x:b,y:A,data:k,reset:w}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:u,rects:l,platform:c,elements:{reference:e,floating:t}});if(h=b??h,f=A??f,u={...u,[O]:{...u[O],...k}},w&&m<=50){m++,typeof w=="object"&&(w.placement&&(p=w.placement),w.rects&&(l=w.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):w.rects),{x:h,y:f}=Wt(l,p,a)),g=-1;continue}}return{x:h,y:f,placement:p,strategy:o,middlewareData:u}};async function It(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:c,elements:s,strategy:a}=e,{boundary:l="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:u=0}=Ne(t,e),m=vn(u),O=s[p?f==="floating"?"reference":"floating":f],y=Ze(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(O)))==null||n?O:O.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(s.floating)),boundary:l,rootBoundary:h,strategy:a})),b=f==="floating"?{...c.floating,x:r,y:o}:c.reference,A=await(i.getOffsetParent==null?void 0:i.getOffsetParent(s.floating)),k=await(i.isElement==null?void 0:i.isElement(A))?await(i.getScale==null?void 0:i.getScale(A))||{x:1,y:1}:{x:1,y:1},w=Ze(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:A,strategy:a}):b);return{top:(y.top-w.top+m.top)/k.y,bottom:(w.bottom-y.bottom+m.bottom)/k.y,left:(y.left-w.left+m.left)/k.x,right:(w.right-y.right+m.right)/k.x}}const Vt=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:c,elements:s,middlewareData:a}=t,{element:l,padding:h=0}=Ne(e,t)||{};if(l==null)return{};const f=vn(h),p={x:n,y:r},u=Ct(o),m=Ot(u),g=await c.getDimensions(l),O=u==="y",y=O?"top":"left",b=O?"bottom":"right",A=O?"clientHeight":"clientWidth",k=i.reference[m]+i.reference[u]-p[u]-i.floating[m],w=p[u]-i.reference[u],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(l));let S=M?M[A]:0;(!S||!await(c.isElement==null?void 0:c.isElement(M)))&&(S=s.floating[A]||i.floating[m]);const W=k/2-w/2,L=S/2-g[m]/2-1,I=De(f[y],L),E=De(f[b],L),D=I,R=S-g[m]-E,v=S/2-g[m]/2+W,x=vt(D,v,R),C=!a.arrow&&fe(o)!=null&&v!=x&&i.reference[m]/2-(v<D?I:E)-g[m]/2<0,P=C?v<D?v-D:v-R:0;return{[u]:p[u]+P,data:{[u]:x,centerOffset:v-x-P,...C&&{alignmentOffset:P}},reset:C}}});function Xn(e,t,n){return(e?[...n.filter(o=>fe(o)===e),...n.filter(o=>fe(o)!==e)]:n.filter(o=>he(o)===o)).filter(o=>e?fe(o)===e||(t?Je(o)!==o:!1):!0)}const Wr=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:c,placement:s,platform:a,elements:l}=t,{crossAxis:h=!1,alignment:f,allowedPlacements:p=Kt,autoAlignment:u=!0,...m}=Ne(e,t),g=f!==void 0||p===Kt?Xn(f||null,u,p):p,O=await It(t,m),y=((n=c.autoPlacement)==null?void 0:n.index)||0,b=g[y];if(b==null)return{};const A=hn(b,i,await(a.isRTL==null?void 0:a.isRTL(l.floating)));if(s!==b)return{reset:{placement:g[0]}};const k=[O[he(b)],O[A[0]],O[A[1]]],w=[...((r=c.autoPlacement)==null?void 0:r.overflows)||[],{placement:b,overflows:k}],M=g[y+1];if(M)return{data:{index:y+1,overflows:w},reset:{placement:M}};const S=w.map(I=>{const E=fe(I.placement);return[I.placement,E&&h?I.overflows.slice(0,2).reduce((D,R)=>D+R,0):I.overflows[0],I.overflows]}).sort((I,E)=>I[1]-E[1]),L=((o=S.filter(I=>I[2].slice(0,fe(I[0])?2:3).every(E=>E<=0))[0])==null?void 0:o[0])||S[0][0];return L!==s?{data:{index:y+1,overflows:w},reset:{placement:L}}:{}}}},Vr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:c,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...O}=Ne(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=he(o),b=he(s)===s,A=await(a.isRTL==null?void 0:a.isRTL(l.floating)),k=p||(b||!g?[Qe(s)]:Hn(s));!p&&m!=="none"&&k.push(...jn(s,g,m,A));const w=[s,...k],M=await It(t,O),S=[];let W=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&S.push(M[y]),f){const D=hn(o,c,A);S.push(M[D[0]],M[D[1]])}if(W=[...W,{placement:o,overflows:S}],!S.every(D=>D<=0)){var L,I;const D=(((L=i.flip)==null?void 0:L.index)||0)+1,R=w[D];if(R)return{data:{index:D,overflows:W},reset:{placement:R}};let v=(I=W.filter(x=>x.overflows[0]<=0).sort((x,C)=>x.overflows[1]-C.overflows[1])[0])==null?void 0:I.placement;if(!v)switch(u){case"bestFit":{var E;const x=(E=W.map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,T)=>P+T,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:E[0];x&&(v=x);break}case"initialPlacement":v=s;break}if(o!==v)return{reset:{placement:v}}}return{}}}};async function Yn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),c=he(n),s=fe(n),a=rt(n)==="y",l=["left","top"].includes(c)?-1:1,h=i&&a?-1:1,f=Ne(t,e);let{mainAxis:p,crossAxis:u,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return s&&typeof m=="number"&&(u=s==="end"?m*-1:m),a?{x:u*h,y:p*l}:{x:p*l,y:u*h}}const Hr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Yn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},$r=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:s={fn:O=>{let{x:y,y:b}=O;return{x:y,y:b}}},...a}=Ne(e,t),l={x:n,y:r},h=await It(t,a),f=rt(he(o)),p=pn(f);let u=l[p],m=l[f];if(i){const O=p==="y"?"top":"left",y=p==="y"?"bottom":"right",b=u+h[O],A=u-h[y];u=vt(b,u,A)}if(c){const O=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=m+h[O],A=m-h[y];m=vt(b,m,A)}const g=s.fn({...t,[p]:u,[f]:m});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function bn(e){const t=se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ne(e),i=o?e.offsetWidth:n,c=o?e.offsetHeight:r,s=Ge(n)!==i||Ge(r)!==c;return s&&(n=i,r=c),{width:n,height:r,$:s}}function Pt(e){return J(e)?e:e.contextElement}function Le(e){const t=Pt(e);if(!ne(t))return Ee(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=bn(t);let c=(i?Ge(n.width):n.width)/r,s=(i?Ge(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!s||!Number.isFinite(s))&&(s=1),{x:c,y:s}}const Un=Ee(0);function yn(e){const t=ie(e);return!wt()||!t.visualViewport?Un:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Gn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ie(e)?!1:t}function Pe(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Pt(e);let c=Ee(1);t&&(r?J(r)&&(c=Le(r)):c=Le(e));const s=Gn(i,n,r)?yn(i):Ee(0);let a=(o.left+s.x)/c.x,l=(o.top+s.y)/c.y,h=o.width/c.x,f=o.height/c.y;if(i){const p=ie(i),u=r&&J(r)?ie(r):r;let m=p.frameElement;for(;m&&r&&u!==p;){const g=Le(m),O=m.getBoundingClientRect(),y=se(m),b=O.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,A=O.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;a*=g.x,l*=g.y,h*=g.x,f*=g.y,a+=b,l+=A,m=ie(m).frameElement}}return Ze({width:h,height:f,x:a,y:l})}function Jn(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=ne(n),i=ve(n);if(n===i)return t;let c={scrollLeft:0,scrollTop:0},s=Ee(1);const a=Ee(0);if((o||!o&&r!=="fixed")&&((pe(n)!=="body"||We(i))&&(c=nt(n)),ne(n))){const l=Pe(n);s=Le(n),a.x=l.x+n.clientLeft,a.y=l.y+n.clientTop}return{width:t.width*s.x,height:t.height*s.y,x:t.x*s.x-c.scrollLeft*s.x+a.x,y:t.y*s.y-c.scrollTop*s.y+a.y}}function Qn(e){return Array.from(e.getClientRects())}function wn(e){return Pe(ve(e)).left+nt(e).scrollLeft}function Zn(e){const t=ve(e),n=nt(e),r=e.ownerDocument.body,o=Oe(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=Oe(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+wn(e);const s=-n.scrollTop;return se(r).direction==="rtl"&&(c+=Oe(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:c,y:s}}function er(e,t){const n=ie(e),r=ve(e),o=n.visualViewport;let i=r.clientWidth,c=r.clientHeight,s=0,a=0;if(o){i=o.width,c=o.height;const l=wt();(!l||l&&t==="fixed")&&(s=o.offsetLeft,a=o.offsetTop)}return{width:i,height:c,x:s,y:a}}function tr(e,t){const n=Pe(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=ne(e)?Le(e):Ee(1),c=e.clientWidth*i.x,s=e.clientHeight*i.y,a=o*i.x,l=r*i.y;return{width:c,height:s,x:a,y:l}}function Ht(e,t,n){let r;if(t==="viewport")r=er(e,n);else if(t==="document")r=Zn(ve(e));else if(J(t))r=tr(t,n);else{const o=yn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Ze(r)}function xn(e,t){const n=Ie(e);return n===t||!J(n)||Se(n)?!1:se(n).position==="fixed"||xn(n,t)}function nr(e,t){const n=t.get(e);if(n)return n;let r=xe(e,[],!1).filter(s=>J(s)&&pe(s)!=="body"),o=null;const i=se(e).position==="fixed";let c=i?Ie(e):e;for(;J(c)&&!Se(c);){const s=se(c),a=yt(c);!a&&s.position==="fixed"&&(o=null),(i?!a&&!o:!a&&s.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||We(c)&&!a&&xn(e,c))?r=r.filter(h=>h!==c):o=s,c=Ie(c)}return t.set(e,r),r}function rr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const c=[...n==="clippingAncestors"?nr(t,this._c):[].concat(n),r],s=c[0],a=c.reduce((l,h)=>{const f=Ht(t,h,o);return l.top=Oe(f.top,l.top),l.right=De(f.right,l.right),l.bottom=De(f.bottom,l.bottom),l.left=Oe(f.left,l.left),l},Ht(t,s,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function or(e){return bn(e)}function ir(e,t,n){const r=ne(t),o=ve(t),i=n==="fixed",c=Pe(e,!0,i,t);let s={scrollLeft:0,scrollTop:0};const a=Ee(0);if(r||!r&&!i)if((pe(t)!=="body"||We(o))&&(s=nt(t)),r){const l=Pe(t,!0,i,t);a.x=l.x+t.clientLeft,a.y=l.y+t.clientTop}else o&&(a.x=wn(o));return{x:c.left+s.scrollLeft-a.x,y:c.top+s.scrollTop-a.y,width:c.width,height:c.height}}function $t(e,t){return!ne(e)||se(e).position==="fixed"?null:t?t(e):e.offsetParent}function En(e,t){const n=ie(e);if(!ne(e))return n;let r=$t(e,t);for(;r&&Sn(r)&&se(r).position==="static";)r=$t(r,t);return r&&(pe(r)==="html"||pe(r)==="body"&&se(r).position==="static"&&!yt(r))?n:r||Dn(e)||n}const sr=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||En,i=this.getDimensions;return{reference:ir(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function cr(e){return se(e).direction==="rtl"}const ur={convertOffsetParentRelativeRectToViewportRelativeRect:Jn,getDocumentElement:ve,getClippingRect:rr,getOffsetParent:En,getElementRects:sr,getClientRects:Qn,getDimensions:or,getScale:Le,isElement:J,isRTL:cr};function lr(e,t){let n=null,r;const o=ve(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function c(s,a){s===void 0&&(s=!1),a===void 0&&(a=1),i();const{left:l,top:h,width:f,height:p}=e.getBoundingClientRect();if(s||t(),!f||!p)return;const u=Ae(h),m=Ae(o.clientWidth-(l+f)),g=Ae(o.clientHeight-(h+p)),O=Ae(l),b={rootMargin:-u+"px "+-m+"px "+-g+"px "+-O+"px",threshold:Oe(0,De(1,a))||1};let A=!0;function k(w){const M=w[0].intersectionRatio;if(M!==a){if(!A)return c();M?c(!1,M):r=setTimeout(()=>{c(!1,1e-7)},100)}A=!1}try{n=new IntersectionObserver(k,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(k,b)}n.observe(e)}return c(!0),i}function jr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,l=Pt(e),h=o||i?[...l?xe(l):[],...xe(t)]:[];h.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=l&&s?lr(l,n):null;let p=-1,u=null;c&&(u=new ResizeObserver(y=>{let[b]=y;b&&b.target===l&&u&&(u.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{u&&u.observe(t)})),n()}),l&&!a&&u.observe(l),u.observe(t));let m,g=a?Pe(e):null;a&&O();function O(){const y=Pe(e);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,m=requestAnimationFrame(O)}return n(),()=>{h.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f&&f(),u&&u.disconnect(),u=null,a&&cancelAnimationFrame(m)}}const ar=(e,t,n)=>{const r=new Map,o={platform:ur,...n},i={...o.platform,_c:r};return zn(e,t,{...o,platform:i})},qr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Vt({element:r.current,padding:o}).fn(n):{}:r?Vt({element:r,padding:o}).fn(n):{}}}};var Ye=typeof document<"u"?d.useLayoutEffect:d.useEffect;function et(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!et(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!et(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Rn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jt(e,t){const n=Rn(e);return Math.round(t*n)/n}function qt(e){const t=d.useRef(e);return Ye(()=>{t.current=e}),t}function fr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:c}={},transform:s=!0,whileElementsMounted:a,open:l}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,u]=d.useState(r);et(p,r)||u(r);const[m,g]=d.useState(null),[O,y]=d.useState(null),b=d.useCallback(C=>{C!=M.current&&(M.current=C,g(C))},[g]),A=d.useCallback(C=>{C!==S.current&&(S.current=C,y(C))},[y]),k=i||m,w=c||O,M=d.useRef(null),S=d.useRef(null),W=d.useRef(h),L=qt(a),I=qt(o),E=d.useCallback(()=>{if(!M.current||!S.current)return;const C={placement:t,strategy:n,middleware:p};I.current&&(C.platform=I.current),ar(M.current,S.current,C).then(P=>{const T={...P,isPositioned:!0};D.current&&!et(W.current,T)&&(W.current=T,ln.flushSync(()=>{f(T)}))})},[p,t,n,I]);Ye(()=>{l===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[l]);const D=d.useRef(!1);Ye(()=>(D.current=!0,()=>{D.current=!1}),[]),Ye(()=>{if(k&&(M.current=k),w&&(S.current=w),k&&w){if(L.current)return L.current(k,w,E);E()}},[k,w,E,L]);const R=d.useMemo(()=>({reference:M,floating:S,setReference:b,setFloating:A}),[b,A]),v=d.useMemo(()=>({reference:k,floating:w}),[k,w]),x=d.useMemo(()=>{const C={position:n,left:0,top:0};if(!v.floating)return C;const P=jt(v.floating,h.x),T=jt(v.floating,h.y);return s?{...C,transform:"translate("+P+"px, "+T+"px)",...Rn(v.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:T}},[n,s,v.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:E,refs:R,elements:v,floatingStyles:x}),[h,E,R,v,x])}function zr(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const dr=un.useInsertionEffect,mr=dr||(e=>e());function ae(e){const t=d.useRef(()=>{});return mr(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const kt="ArrowUp",ot="ArrowDown",Fe="ArrowLeft",Ve="ArrowRight";function qe(e,t,n){return Math.floor(e/t)!==n}function _e(e,t){return t<0||t>=e.current.length}function ut(e,t){return re(e,{disabledIndices:t})}function zt(e,t){return re(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function re(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const c=e.current,s=o?l=>o.includes(l):l=>{const h=c[l];return h==null||h.hasAttribute("disabled")||h.getAttribute("aria-disabled")==="true"};let a=n;do a+=r?-i:i;while(a>=0&&a<=c.length-1&&s(a));return a}function gr(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:c,minIndex:s,maxIndex:a,prevIndex:l,stopEvent:h=!1}=t,f=l;if(n.key===kt){if(h&&te(n),l===-1)f=a;else if(f=re(e,{startingIndex:f,amount:i,decrement:!0,disabledIndices:c}),o&&(l-i<s||f<0)){const p=l%i,u=a%i,m=a-(u-p);u===p?f=a:f=u>p?m:m-i}_e(e,f)&&(f=l)}if(n.key===ot&&(h&&te(n),l===-1?f=s:(f=re(e,{startingIndex:l,amount:i,disabledIndices:c}),o&&l+i>a&&(f=re(e,{startingIndex:l%i-i,amount:i,disabledIndices:c}))),_e(e,f)&&(f=l)),r==="both"){const p=Ae(l/i);n.key===Ve&&(h&&te(n),l%i!==i-1?(f=re(e,{startingIndex:l,disabledIndices:c}),o&&qe(f,i,p)&&(f=re(e,{startingIndex:l-l%i-1,disabledIndices:c}))):o&&(f=re(e,{startingIndex:l-l%i-1,disabledIndices:c})),qe(f,i,p)&&(f=l)),n.key===Fe&&(h&&te(n),l%i!==0?(f=re(e,{startingIndex:l,disabledIndices:c,decrement:!0}),o&&qe(f,i,p)&&(f=re(e,{startingIndex:l+(i-l%i),decrement:!0,disabledIndices:c}))):o&&(f=re(e,{startingIndex:l+(i-l%i),decrement:!0,disabledIndices:c})),qe(f,i,p)&&(f=l));const u=Ae(a/i)===p;_e(e,f)&&(o&&u?f=n.key===Fe?a:re(e,{startingIndex:l-l%i-1,disabledIndices:c}):f=l)}return f}let Xt=0;function ge(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Xt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Xt=requestAnimationFrame(i)}var G=typeof document<"u"?d.useLayoutEffect:d.useEffect;function pr(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function hr(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const Tn=d.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Xr(e){let{children:t,elementsRef:n,labelsRef:r}=e;const[o,i]=d.useState(()=>new Map),c=d.useCallback(a=>{i(l=>new Map(l).set(a,null))},[]),s=d.useCallback(a=>{i(l=>{const h=new Map(l);return h.delete(a),h})},[]);return G(()=>{const a=new Map(o);Array.from(a.keys()).sort(pr).forEach((h,f)=>{a.set(h,f)}),hr(o,a)||i(a)},[o]),d.createElement(Tn.Provider,{value:d.useMemo(()=>({register:c,unregister:s,map:o,elementsRef:n,labelsRef:r}),[c,s,o,n,r])},t)}function Yr(e){let{label:t}=e===void 0?{}:e;const[n,r]=d.useState(null),o=d.useRef(null),{register:i,unregister:c,map:s,elementsRef:a,labelsRef:l}=d.useContext(Tn),h=d.useCallback(f=>{if(o.current=f,n!==null&&(a.current[n]=f,l)){var p;const u=t!==void 0;l.current[n]=u?t:(p=f==null?void 0:f.textContent)!=null?p:null}},[n,a,l,t]);return G(()=>{const f=o.current;if(f)return i(f),()=>{c(f)}},[i,c]),G(()=>{const f=o.current?s.get(o.current):null;f!=null&&r(f)},[s]),d.useMemo(()=>({ref:h,index:n??-1}),[n,h])}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}let lt=!1,vr=0;const Yt=()=>"floating-ui-"+vr++;function br(){const[e,t]=d.useState(()=>lt?Yt():void 0);return G(()=>{e==null&&t(Yt())},[]),d.useEffect(()=>{lt||(lt=!0)},[]),e}const yr=un.useId,it=yr||br;function wr(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const xr=d.createContext(null),Er=d.createContext(null),Mt=()=>{var e;return((e=d.useContext(xr))==null?void 0:e.id)||null},He=()=>d.useContext(Er);function ke(e){return"data-floating-ui-"+e}function de(e){const t=d.useRef(e);return G(()=>{t.current=e}),t}const Ut=ke("safe-polygon");function at(e,t,n){return n&&!Ue(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Ur(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:c,floating:s},refs:a}=e,{enabled:l=!0,delay:h=0,handleClose:f=null,mouseOnly:p=!1,restMs:u=0,move:m=!0}=t,g=He(),O=Mt(),y=de(f),b=de(h),A=d.useRef(),k=d.useRef(),w=d.useRef(),M=d.useRef(),S=d.useRef(!0),W=d.useRef(!1),L=d.useRef(()=>{}),I=d.useCallback(()=>{var v;const x=(v=o.current.openEvent)==null?void 0:v.type;return(x==null?void 0:x.includes("mouse"))&&x!=="mousedown"},[o]);d.useEffect(()=>{if(!l)return;function v(x){let{open:C}=x;C||(clearTimeout(k.current),clearTimeout(M.current),S.current=!0)}return i.on("openchange",v),()=>{i.off("openchange",v)}},[l,i]),d.useEffect(()=>{if(!l||!y.current||!n)return;function v(C){I()&&r(!1,C,"hover")}const x=oe(s).documentElement;return x.addEventListener("mouseleave",v),()=>{x.removeEventListener("mouseleave",v)}},[s,n,r,l,y,o,I]);const E=d.useCallback(function(v,x,C){x===void 0&&(x=!0),C===void 0&&(C="hover");const P=at(b.current,"close",A.current);P&&!w.current?(clearTimeout(k.current),k.current=setTimeout(()=>r(!1,v,C),P)):x&&(clearTimeout(k.current),r(!1,v,C))},[b,r]),D=d.useCallback(()=>{L.current(),w.current=void 0},[]),R=d.useCallback(()=>{if(W.current){const v=oe(a.floating.current).body;v.style.pointerEvents="",v.removeAttribute(Ut),W.current=!1}},[a]);return d.useEffect(()=>{if(!l)return;function v(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function x(T){if(clearTimeout(k.current),S.current=!1,p&&!Ue(A.current)||u>0&&at(b.current,"open")===0)return;const $=at(b.current,"open",A.current);$?k.current=setTimeout(()=>{r(!0,T,"hover")},$):r(!0,T,"hover")}function C(T){if(v())return;L.current();const $=oe(s);if(clearTimeout(M.current),y.current){n||clearTimeout(k.current),w.current=y.current({...e,tree:g,x:T.clientX,y:T.clientY,onClose(){R(),D(),E(T,!0,"safe-polygon")}});const F=w.current;$.addEventListener("mousemove",F),L.current=()=>{$.removeEventListener("mousemove",F)};return}(A.current==="touch"?!ee(s,T.relatedTarget):!0)&&E(T)}function P(T){v()||y.current==null||y.current({...e,tree:g,x:T.clientX,y:T.clientY,onClose(){R(),D(),E(T)}})(T)}if(J(c)){const T=c;return n&&T.addEventListener("mouseleave",P),s==null||s.addEventListener("mouseleave",P),m&&T.addEventListener("mousemove",x,{once:!0}),T.addEventListener("mouseenter",x),T.addEventListener("mouseleave",C),()=>{n&&T.removeEventListener("mouseleave",P),s==null||s.removeEventListener("mouseleave",P),m&&T.removeEventListener("mousemove",x),T.removeEventListener("mouseenter",x),T.removeEventListener("mouseleave",C)}}},[c,s,l,e,p,u,m,E,D,R,r,n,g,b,y,o]),G(()=>{var v;if(l&&n&&(v=y.current)!=null&&v.__options.blockPointerEvents&&I()){const C=oe(s).body;if(C.setAttribute(Ut,""),C.style.pointerEvents="none",W.current=!0,J(c)&&s){var x;const P=c,T=g==null||(x=g.nodesRef.current.find($=>$.id===O))==null||(x=x.context)==null?void 0:x.elements.floating;return T&&(T.style.pointerEvents=""),P.style.pointerEvents="auto",s.style.pointerEvents="auto",()=>{P.style.pointerEvents="",s.style.pointerEvents=""}}}},[l,n,O,s,c,g,y,o,I]),G(()=>{n||(A.current=void 0,D(),R())},[n,D,R]),d.useEffect(()=>()=>{D(),clearTimeout(k.current),clearTimeout(M.current),R()},[l,c,D,R]),d.useMemo(()=>{if(!l)return{};function v(x){A.current=x.pointerType}return{reference:{onPointerDown:v,onPointerEnter:v,onMouseMove(x){n||u===0||(clearTimeout(M.current),M.current=setTimeout(()=>{S.current||r(!0,x.nativeEvent,"hover")},u))}},floating:{onMouseEnter(){clearTimeout(k.current)},onMouseLeave(x){E(x.nativeEvent,!1)}}}},[l,u,n,r,E])}function Rr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(c=>c.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ce(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(c=>{var s;return o.parentId===c.id&&((s=o.context)==null?void 0:s.open)})}),n=n.concat(r);return n}function Tr(e,t){let n,r=-1;function o(i,c){c>r&&(n=i,r=c),Ce(e,i).forEach(a=>{o(a.id,c+1)})}return o(t,0),e.find(i=>i.id===n)}let Me=new WeakMap,ze=new WeakSet,Xe={},ft=0;const Or=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,On=e=>e&&(e.host||On(e.parentNode)),Cr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=On(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Ir(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,c=Cr(t,e),s=new Set,a=new Set(c),l=[];Xe[o]||(Xe[o]=new WeakMap);const h=Xe[o];c.forEach(f),p(t),s.clear();function f(u){!u||s.has(u)||(s.add(u),u.parentNode&&f(u.parentNode))}function p(u){!u||a.has(u)||Array.prototype.forEach.call(u.children,m=>{if(s.has(m))p(m);else{const g=i?m.getAttribute(i):null,O=g!==null&&g!=="false",y=(Me.get(m)||0)+1,b=(h.get(m)||0)+1;Me.set(m,y),h.set(m,b),l.push(m),y===1&&O&&ze.add(m),b===1&&m.setAttribute(o,""),!O&&i&&m.setAttribute(i,"true")}})}return ft++,()=>{l.forEach(u=>{const m=(Me.get(u)||0)-1,g=(h.get(u)||0)-1;Me.set(u,m),h.set(u,g),m||(!ze.has(u)&&i&&u.removeAttribute(i),ze.delete(u)),g||u.removeAttribute(o)}),ft--,ft||(Me=new WeakMap,Me=new WeakMap,ze=new WeakSet,Xe={})}}function Gt(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return Ir(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const At=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Cn(e,t){const n=bt(e,At());t==="prev"&&n.reverse();const r=n.indexOf(le(oe(e)));return n.slice(r+1)[0]}function In(){return Cn(document.body,"next")}function Pn(){return Cn(document.body,"prev")}function Be(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ee(n,r)}function Pr(e){bt(e,At()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function kr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Lt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Mr;function Jt(e){e.key==="Tab"&&(e.target,clearTimeout(Mr))}const tt=d.forwardRef(function(t,n){const[r,o]=d.useState();G(()=>(Rt()&&o("button"),document.addEventListener("keydown",Jt),()=>{document.removeEventListener("keydown",Jt)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ke("focus-guard")]:"",style:Lt};return d.createElement("span",Ke({},t,i))}),kn=d.createContext(null);function Ar(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=d.useState(null),i=it(),c=Mn(),s=d.useMemo(()=>({id:t,root:n,portalContext:c,uniqueId:i}),[t,n,c,i]),a=d.useRef();return G(()=>()=>{r==null||r.remove()},[r,s]),G(()=>{if(a.current===s)return;a.current=s;const{id:l,root:h,portalContext:f,uniqueId:p}=s,u=l?document.getElementById(l):null,m=ke("portal");if(u){const g=document.createElement("div");g.id=p,g.setAttribute(m,""),u.appendChild(g),o(g)}else{let g=h||(f==null?void 0:f.portalNode);g&&!J(g)&&(g=g.current),g=g||document.body;let O=null;l&&(O=document.createElement("div"),O.id=l,g.appendChild(O));const y=document.createElement("div");y.id=p,y.setAttribute(m,""),g=O||g,g.appendChild(y),o(y)}},[s]),r}function Gr(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Ar({id:n,root:r}),[c,s]=d.useState(null),a=d.useRef(null),l=d.useRef(null),h=d.useRef(null),f=d.useRef(null),p=!!c&&!c.modal&&c.open&&o&&!!(r||i);return d.useEffect(()=>{if(!i||!o||c!=null&&c.modal)return;function u(m){i&&Be(m)&&(m.type==="focusin"?kr:Pr)(i)}return i.addEventListener("focusin",u,!0),i.addEventListener("focusout",u,!0),()=>{i.removeEventListener("focusin",u,!0),i.removeEventListener("focusout",u,!0)}},[i,o,c==null?void 0:c.modal]),d.createElement(kn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:a,afterOutsideRef:l,beforeInsideRef:h,afterInsideRef:f,portalNode:i,setFocusManagerState:s}),[o,i])},p&&i&&d.createElement(tt,{"data-type":"outside",ref:a,onFocus:u=>{if(Be(u,i)){var m;(m=h.current)==null||m.focus()}else{const g=Pn()||(c==null?void 0:c.refs.domReference.current);g==null||g.focus()}}}),p&&i&&d.createElement("span",{"aria-owns":i.id,style:Lt}),i&&ln.createPortal(t,i),p&&i&&d.createElement(tt,{"data-type":"outside",ref:l,onFocus:u=>{if(Be(u,i)){var m;(m=f.current)==null||m.focus()}else{const g=In()||(c==null?void 0:c.refs.domReference.current);g==null||g.focus(),c!=null&&c.closeOnFocusOut&&(c==null||c.onOpenChange(!1,u.nativeEvent))}}}))}const Mn=()=>d.useContext(kn),Qt=20;let Te=[];function dt(e){Te=Te.filter(t=>t.isConnected),e&&pe(e)!=="body"&&(Te.push(e),Te.length>Qt&&(Te=Te.slice(-Qt)))}function Zt(){return Te.slice().reverse().find(e=>e.isConnected)}const Lr=d.forwardRef(function(t,n){return d.createElement("button",Ke({},t,{type:"button",ref:n,tabIndex:-1,style:Lt}))});function Jr(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:c=0,returnFocus:s=!0,modal:a=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:h=!0}=e,{open:f,refs:p,nodeId:u,onOpenChange:m,events:g,dataRef:O,elements:{domReference:y,floating:b}}=t,A=typeof c=="number"&&c<0,k=(y==null?void 0:y.getAttribute("role"))==="combobox"&&Tt(y)&&A,w=k?!1:a,M=Or()?i:!0,S=de(o),W=de(c),L=de(s),I=He(),E=Mn(),D=d.useRef(null),R=d.useRef(null),v=d.useRef(!1),x=d.useRef(!1),C=E!=null,P=d.useCallback(function(F){return F===void 0&&(F=b),F?bt(F,At()):[]},[b]),T=d.useCallback(F=>{const K=P(F);return S.current.map(_=>y&&_==="reference"?y:b&&_==="floating"?b:K).filter(Boolean).flat()},[y,b,S,P]);d.useEffect(()=>{if(r||!w)return;function F(_){if(_.key==="Tab"){ee(b,le(oe(b)))&&P().length===0&&!k&&te(_);const N=T(),j=we(_);S.current[0]==="reference"&&j===y&&(te(_),_.shiftKey?ge(N[N.length-1]):ge(N[1])),S.current[1]==="floating"&&j===b&&_.shiftKey&&(te(_),ge(N[0]))}}const K=oe(b);return K.addEventListener("keydown",F),()=>{K.removeEventListener("keydown",F)}},[r,y,b,w,S,p,k,P,T]),d.useEffect(()=>{if(r||!h)return;function F(){x.current=!0,setTimeout(()=>{x.current=!1})}function K(_){const N=_.relatedTarget;queueMicrotask(()=>{const j=!(ee(y,N)||ee(b,N)||ee(N,b)||ee(E==null?void 0:E.portalNode,N)||N!=null&&N.hasAttribute(ke("focus-guard"))||I&&(Ce(I.nodesRef.current,u).find(Y=>{var z,H;return ee((z=Y.context)==null?void 0:z.elements.floating,N)||ee((H=Y.context)==null?void 0:H.elements.domReference,N)})||Rr(I.nodesRef.current,u).find(Y=>{var z,H;return((z=Y.context)==null?void 0:z.elements.floating)===N||((H=Y.context)==null?void 0:H.elements.domReference)===N})));N&&j&&!x.current&&N!==Zt()&&(v.current=!0,m(!1,_))})}if(b&&ne(y))return y.addEventListener("focusout",K),y.addEventListener("pointerdown",F),!w&&b.addEventListener("focusout",K),()=>{y.removeEventListener("focusout",K),y.removeEventListener("pointerdown",F),!w&&b.removeEventListener("focusout",K)}},[r,y,b,w,u,I,E,m,h]),d.useEffect(()=>{var F;if(r)return;const K=Array.from((E==null||(F=E.portalNode)==null?void 0:F.querySelectorAll("["+ke("portal")+"]"))||[]);if(b){const _=[b,...K,D.current,R.current,S.current.includes("reference")||k?y:null].filter(j=>j!=null),N=a||k?Gt(_,M,!M):Gt(_);return()=>{N()}}},[r,y,b,a,S,E,k,M]),G(()=>{if(r||!b)return;const F=oe(b),K=le(F);queueMicrotask(()=>{const _=T(b),N=W.current,j=(typeof N=="number"?_[N]:N.current)||b,Y=ee(b,K);!A&&!Y&&f&&ge(j,{preventScroll:j===b})})},[r,f,b,A,T,W]),G(()=>{if(r||!b)return;let F=!1;const K=oe(b),_=le(K),N=O.current;dt(_);function j(Y){let{reason:z,event:H,nested:U}=Y;z==="escape-key"&&p.domReference.current&&dt(p.domReference.current),z==="hover"&&H.type==="mouseleave"&&(v.current=!0),z==="outside-press"&&(U?(v.current=!1,F=!0):v.current=!(dn(H)||Et(H)))}return g.on("openchange",j),()=>{g.off("openchange",j);const Y=le(K),z=ee(b,Y)||I&&Ce(I.nodesRef.current,u).some(V=>{var X;return ee((X=V.context)==null?void 0:X.elements.floating,Y)});(z||N.openEvent&&["click","mousedown"].includes(N.openEvent.type))&&p.domReference.current&&dt(p.domReference.current);const U=Zt();L.current&&!v.current&&ne(U)&&(!(U!==Y&&Y!==K.body)||z)&&ge(U,{cancelPrevious:!1,preventScroll:F})}},[r,b,L,O,p,g,I,u]),G(()=>{if(!(r||!E))return E.setFocusManagerState({modal:w,closeOnFocusOut:h,open:f,onOpenChange:m,refs:p}),()=>{E.setFocusManagerState(null)}},[r,E,w,f,m,p,h]),G(()=>{if(r||!b||typeof MutationObserver!="function"||A)return;const F=()=>{const _=b.getAttribute("tabindex");S.current.includes("floating")||le(oe(b))!==p.domReference.current&&P().length===0?_!=="0"&&b.setAttribute("tabindex","0"):_!=="-1"&&b.setAttribute("tabindex","-1")};F();const K=new MutationObserver(F);return K.observe(b,{childList:!0,subtree:!0,attributes:!0}),()=>{K.disconnect()}},[r,b,p,S,P,A]);function $(F){return r||!l||!w?null:d.createElement(Lr,{ref:F==="start"?D:R,onClick:K=>m(!1,K.nativeEvent)},typeof l=="string"?l:"Dismiss")}const Q=!r&&M&&(C||w);return d.createElement(d.Fragment,null,Q&&d.createElement(tt,{"data-type":"inside",ref:E==null?void 0:E.beforeInsideRef,onFocus:F=>{if(w){const _=T();ge(o[0]==="reference"?_[0]:_[_.length-1])}else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(v.current=!1,Be(F,E.portalNode)){const _=In()||y;_==null||_.focus()}else{var K;(K=E.beforeOutsideRef.current)==null||K.focus()}}}),!k&&$("start"),n,$("end"),Q&&d.createElement(tt,{"data-type":"inside",ref:E==null?void 0:E.afterInsideRef,onFocus:F=>{if(w)ge(T()[0]);else if(E!=null&&E.preserveTabOrder&&E.portalNode)if(h&&(v.current=!0),Be(F,E.portalNode)){const _=Pn()||y;_==null||_.focus()}else{var K;(K=E.afterOutsideRef.current)==null||K.focus()}}}))}const mt=new Set,Qr=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;const i=it();return G(()=>{if(!r)return;mt.add(i);const c=/iP(hone|ad|od)|iOS/.test(xt()),s=document.body.style,l=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",h=window.innerWidth-document.documentElement.clientWidth,f=s.left?parseFloat(s.left):window.pageXOffset,p=s.top?parseFloat(s.top):window.pageYOffset;if(s.overflow="hidden",h&&(s[l]=h+"px"),c){var u,m;const g=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,O=((m=window.visualViewport)==null?void 0:m.offsetTop)||0;Object.assign(s,{position:"fixed",top:-(p-Math.floor(O))+"px",left:-(f-Math.floor(g))+"px",right:"0"})}return()=>{mt.delete(i),mt.size===0&&(Object.assign(s,{overflow:"",[l]:""}),c&&(Object.assign(s,{position:"",top:"",left:"",right:""}),window.scrollTo(f,p)))}},[i,r]),d.createElement("div",Ke({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function en(e){return ne(e.target)&&e.target.tagName==="BUTTON"}function tn(e){return Tt(e)}function Zr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:c=!0,event:s="click",toggle:a=!0,ignoreMouse:l=!1,keyboardHandlers:h=!0}=t,f=d.useRef(),p=d.useRef(!1);return d.useMemo(()=>c?{reference:{onPointerDown(u){f.current=u.pointerType},onMouseDown(u){u.button===0&&(Ue(f.current,!0)&&l||s!=="click"&&(n&&a&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,u.nativeEvent,"click"):(u.preventDefault(),r(!0,u.nativeEvent,"click"))))},onClick(u){if(s==="mousedown"&&f.current){f.current=void 0;return}Ue(f.current,!0)&&l||(n&&a&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,u.nativeEvent,"click"):r(!0,u.nativeEvent,"click"))},onKeyDown(u){f.current=void 0,!(u.defaultPrevented||!h||en(u))&&(u.key===" "&&!tn(i)&&(u.preventDefault(),p.current=!0),u.key==="Enter"&&r(!(n&&a),u.nativeEvent,"click"))},onKeyUp(u){u.defaultPrevented||!h||en(u)||tn(i)||u.key===" "&&p.current&&(p.current=!1,r(!(n&&a),u.nativeEvent,"click"))}}}:{},[c,o,s,l,h,i,a,n,r])}const Sr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Dr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},nn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function eo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,nodeId:o,elements:{reference:i,domReference:c,floating:s},dataRef:a}=e,{enabled:l=!0,escapeKey:h=!0,outsidePress:f=!0,outsidePressEvent:p="pointerdown",referencePress:u=!1,referencePressEvent:m="pointerdown",ancestorScroll:g=!1,bubbles:O,capture:y}=t,b=He(),A=ae(typeof f=="function"?f:()=>!1),k=typeof f=="function"?A:f,w=d.useRef(!1),M=d.useRef(!1),{escapeKey:S,outsidePress:W}=nn(O),{escapeKey:L,outsidePress:I}=nn(y),E=ae(x=>{if(!n||!l||!h||x.key!=="Escape")return;const C=b?Ce(b.nodesRef.current,o):[];if(!S&&(x.stopPropagation(),C.length>0)){let P=!0;if(C.forEach(T=>{var $;if(($=T.context)!=null&&$.open&&!T.context.dataRef.current.__escapeKeyBubbles){P=!1;return}}),!P)return}r(!1,Nn(x)?x.nativeEvent:x,"escape-key")}),D=ae(x=>{var C;const P=()=>{var T;E(x),(T=we(x))==null||T.removeEventListener("keydown",P)};(C=we(x))==null||C.addEventListener("keydown",P)}),R=ae(x=>{const C=w.current;w.current=!1;const P=M.current;if(M.current=!1,p==="click"&&P||C||typeof k=="function"&&!k(x))return;const T=we(x),$="["+ke("inert")+"]",Q=oe(s).querySelectorAll($);let F=J(T)?T:null;for(;F&&!Se(F);){const N=Ie(F);if(Se(N)||!J(N))break;F=N}if(Q.length&&J(T)&&!_n(T)&&!ee(T,s)&&Array.from(Q).every(N=>!ee(F,N)))return;if(ne(T)&&s){const N=T.clientWidth>0&&T.scrollWidth>T.clientWidth,j=T.clientHeight>0&&T.scrollHeight>T.clientHeight;let Y=j&&x.offsetX>T.clientWidth;if(j&&se(T).direction==="rtl"&&(Y=x.offsetX<=T.offsetWidth-T.clientWidth),Y||N&&x.offsetY>T.clientHeight)return}const K=b&&Ce(b.nodesRef.current,o).some(N=>{var j;return ct(x,(j=N.context)==null?void 0:j.elements.floating)});if(ct(x,s)||ct(x,c)||K)return;const _=b?Ce(b.nodesRef.current,o):[];if(_.length>0){let N=!0;if(_.forEach(j=>{var Y;if((Y=j.context)!=null&&Y.open&&!j.context.dataRef.current.__outsidePressBubbles){N=!1;return}}),!N)return}r(!1,x,"outside-press")}),v=ae(x=>{var C;const P=()=>{var T;R(x),(T=we(x))==null||T.removeEventListener(p,P)};(C=we(x))==null||C.addEventListener(p,P)});return d.useEffect(()=>{if(!n||!l)return;a.current.__escapeKeyBubbles=S,a.current.__outsidePressBubbles=W;function x(T){r(!1,T,"ancestor-scroll")}const C=oe(s);h&&C.addEventListener("keydown",L?D:E,L),k&&C.addEventListener(p,I?v:R,I);let P=[];return g&&(J(c)&&(P=xe(c)),J(s)&&(P=P.concat(xe(s))),!J(i)&&i&&i.contextElement&&(P=P.concat(xe(i.contextElement)))),P=P.filter(T=>{var $;return T!==(($=C.defaultView)==null?void 0:$.visualViewport)}),P.forEach(T=>{T.addEventListener("scroll",x,{passive:!0})}),()=>{h&&C.removeEventListener("keydown",L?D:E,L),k&&C.removeEventListener(p,I?v:R,I),P.forEach(T=>{T.removeEventListener("scroll",x)})}},[a,s,c,i,h,k,p,n,r,g,l,S,W,E,L,D,R,I,v]),d.useEffect(()=>{w.current=!1},[k,p]),d.useMemo(()=>l?{reference:{onKeyDown:E,[Sr[m]]:x=>{u&&r(!1,x.nativeEvent,"reference-press")}},floating:{onKeyDown:E,onMouseDown(){M.current=!0},onMouseUp(){M.current=!0},[Dr[p]]:()=>{w.current=!0}}}:{},[l,u,p,m,r,E])}function to(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,c]=d.useState(null),s=((t=e.elements)==null?void 0:t.reference)||i,a=fr(e),l=He(),h=Mt()!=null,f=ae((w,M,S)=>{w&&(u.current.openEvent=M),m.emit("openchange",{open:w,event:M,reason:S,nested:h}),r==null||r(w,M,S)}),p=d.useRef(null),u=d.useRef({}),m=d.useState(()=>wr())[0],g=it(),O=d.useCallback(w=>{const M=J(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;a.refs.setReference(M)},[a.refs]),y=d.useCallback(w=>{(J(w)||w===null)&&(p.current=w,c(w)),(J(a.refs.reference.current)||a.refs.reference.current===null||w!==null&&!J(w))&&a.refs.setReference(w)},[a.refs]),b=d.useMemo(()=>({...a.refs,setReference:y,setPositionReference:O,domReference:p}),[a.refs,y,O]),A=d.useMemo(()=>({...a.elements,domReference:s}),[a.elements,s]),k=d.useMemo(()=>({...a,refs:b,elements:A,dataRef:u,nodeId:o,floatingId:g,events:m,open:n,onOpenChange:f}),[a,o,g,m,n,f,b,A]);return G(()=>{const w=l==null?void 0:l.nodesRef.current.find(M=>M.id===o);w&&(w.context=k)}),d.useMemo(()=>({...a,context:k,refs:b,elements:A}),[a,b,A,k])}function no(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,refs:i,elements:{floating:c,domReference:s}}=e,{enabled:a=!0,visibleOnly:l=!0}=t,h=d.useRef(!1),f=d.useRef(),p=d.useRef(!0);return d.useEffect(()=>{if(!a)return;const u=ie(s);function m(){!n&&ne(s)&&s===le(oe(s))&&(h.current=!0)}function g(){p.current=!0}return u.addEventListener("blur",m),u.addEventListener("keydown",g,!0),()=>{u.removeEventListener("blur",m),u.removeEventListener("keydown",g,!0)}},[c,s,n,a]),d.useEffect(()=>{if(!a)return;function u(m){let{reason:g}=m;(g==="reference-press"||g==="escape-key")&&(h.current=!0)}return o.on("openchange",u),()=>{o.off("openchange",u)}},[o,a]),d.useEffect(()=>()=>{clearTimeout(f.current)},[]),d.useMemo(()=>a?{reference:{onPointerDown(u){Et(u.nativeEvent)||(p.current=!1)},onMouseLeave(){h.current=!1},onFocus(u){if(h.current)return;const m=we(u.nativeEvent);if(l&&J(m))try{if(Rt()&&gn())throw Error();if(!m.matches(":focus-visible"))return}catch{if(!p.current&&!Tt(m))return}r(!0,u.nativeEvent,"focus")},onBlur(u){h.current=!1;const m=u.relatedTarget,g=J(m)&&m.hasAttribute(ke("focus-guard"))&&m.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{const O=le(s?s.ownerDocument:document);!m&&O===s||ee(i.floating.current,m)||ee(s,m)||g||r(!1,u.nativeEvent,"focus")})}}}:{},[a,l,s,i,r])}function gt(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(c=>{let[s,a]=c;if(s.indexOf("on")===0){if(r.has(s)||r.set(s,[]),typeof a=="function"){var l;(l=r.get(s))==null||l.push(a),o[s]=function(){for(var h,f=arguments.length,p=new Array(f),u=0;u<f;u++)p[u]=arguments[u];return(h=r.get(s))==null?void 0:h.map(m=>m(...p)).find(m=>m!==void 0)}}}else o[s]=a}),o),{})}}function ro(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>gt(i,e,"reference"),t),r=d.useCallback(i=>gt(i,e,"floating"),t),o=d.useCallback(i=>gt(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let rn=!1;function st(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function on(e,t){return st(t,e===kt||e===ot,e===Fe||e===Ve)}function pt(e,t,n){return st(t,e===ot,n?e===Fe:e===Ve)||e==="Enter"||e==" "||e===""}function Fr(e,t,n){return st(t,n?e===Fe:e===Ve,e===ot)}function sn(e,t,n){return st(t,n?e===Ve:e===Fe,e===kt)}function oo(e,t){const{open:n,onOpenChange:r,refs:o,elements:{domReference:i,floating:c}}=e,{listRef:s,activeIndex:a,onNavigate:l=()=>{},enabled:h=!0,selectedIndex:f=null,allowEscape:p=!1,loop:u=!1,nested:m=!1,rtl:g=!1,virtual:O=!1,focusItemOnOpen:y="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:A=!0,disabledIndices:k=void 0,orientation:w="vertical",cols:M=1,scrollItemIntoView:S=!0,virtualItemRef:W}=t,L=Mt(),I=He(),E=ae(l),D=d.useRef(y),R=d.useRef(f??-1),v=d.useRef(null),x=d.useRef(!0),C=d.useRef(E),P=d.useRef(!!c),T=d.useRef(!1),$=d.useRef(!1),Q=de(k),F=de(n),K=de(S),[_,N]=d.useState(),[j,Y]=d.useState(),z=ae(function(V,X,q){q===void 0&&(q=!1);const Z=V.current[X.current];Z&&(O?(N(Z.id),I==null||I.events.emit("virtualfocus",Z),W&&(W.current=Z)):ge(Z,{preventScroll:!0,sync:gn()&&Rt()?rn||T.current:!1}),requestAnimationFrame(()=>{const be=K.current;be&&Z&&(q||!x.current)&&(Z.scrollIntoView==null||Z.scrollIntoView(typeof be=="boolean"?{block:"nearest",inline:"nearest"}:be))}))});G(()=>{document.createElement("div").focus({get preventScroll(){return rn=!0,!1}})},[]),G(()=>{h&&(n&&c?D.current&&f!=null&&($.current=!0,E(f)):P.current&&(R.current=-1,C.current(null)))},[h,n,c,f,E]),G(()=>{if(h&&n&&c)if(a==null){if(T.current=!1,f!=null)return;if(P.current&&(R.current=-1,z(s,R)),!P.current&&D.current&&(v.current!=null||D.current===!0&&v.current==null)){let V=0;const X=()=>{s.current[0]==null?(V<2&&(V?requestAnimationFrame:queueMicrotask)(X),V++):(R.current=v.current==null||pt(v.current,w,g)||m?ut(s,Q.current):zt(s,Q.current),v.current=null,E(R.current))};X()}}else _e(s,a)||(R.current=a,z(s,R,$.current),$.current=!1)},[h,n,c,a,f,m,s,w,g,E,z,Q]),G(()=>{var V;if(!h||c||!I||O||!P.current)return;const X=I.nodesRef.current,q=(V=X.find(Re=>Re.id===L))==null||(V=V.context)==null?void 0:V.elements.floating,Z=le(oe(c)),be=X.some(Re=>Re.context&&ee(Re.context.elements.floating,Z));q&&!be&&x.current&&q.focus({preventScroll:!0})},[h,c,I,L,O]),G(()=>{if(!h||!I||!O||L)return;function V(X){Y(X.id),W&&(W.current=X)}return I.events.on("virtualfocus",V),()=>{I.events.off("virtualfocus",V)}},[h,I,O,L,W]),G(()=>{C.current=E,P.current=!!c}),G(()=>{n||(v.current=null)},[n]);const H=a!=null,U=d.useMemo(()=>{function V(q){if(!n)return;const Z=s.current.indexOf(q);Z!==-1&&E(Z)}return{onFocus(q){let{currentTarget:Z}=q;V(Z)},onClick:q=>{let{currentTarget:Z}=q;return Z.focus({preventScroll:!0})},...b&&{onMouseMove(q){let{currentTarget:Z}=q;V(Z)},onPointerLeave(q){let{pointerType:Z}=q;!x.current||Z==="touch"||(R.current=-1,z(s,R),E(null),O||ge(o.floating.current,{preventScroll:!0}))}}}},[n,o,z,b,s,E,O]);return d.useMemo(()=>{if(!h)return{};const V=Q.current;function X(B){if(x.current=!1,T.current=!0,!F.current&&B.currentTarget===o.floating.current)return;if(m&&sn(B.key,w,g)){te(B),r(!1,B.nativeEvent,"list-navigation"),ne(i)&&!O&&i.focus();return}const ce=R.current,ue=ut(s,V),me=zt(s,V);if(B.key==="Home"&&(te(B),R.current=ue,E(R.current)),B.key==="End"&&(te(B),R.current=me,E(R.current)),!(M>1&&(R.current=gr(s,{event:B,orientation:w,loop:u,cols:M,disabledIndices:V,minIndex:ue,maxIndex:me,prevIndex:R.current,stopEvent:!0}),E(R.current),w==="both"))&&on(B.key,w)){if(te(B),n&&!O&&le(B.currentTarget.ownerDocument)===B.currentTarget){R.current=pt(B.key,w,g)?ue:me,E(R.current);return}pt(B.key,w,g)?u?R.current=ce>=me?p&&ce!==s.current.length?-1:ue:re(s,{startingIndex:ce,disabledIndices:V}):R.current=Math.min(me,re(s,{startingIndex:ce,disabledIndices:V})):u?R.current=ce<=ue?p&&ce!==-1?s.current.length:me:re(s,{startingIndex:ce,decrement:!0,disabledIndices:V}):R.current=Math.max(ue,re(s,{startingIndex:ce,decrement:!0,disabledIndices:V})),_e(s,R.current)?E(null):E(R.current)}}function q(B){y==="auto"&&dn(B.nativeEvent)&&(D.current=!0)}function Z(B){D.current=y,y==="auto"&&Et(B.nativeEvent)&&(D.current=!0)}const be=O&&n&&H&&{"aria-activedescendant":j||_},Re=s.current.find(B=>(B==null?void 0:B.id)===_);return{reference:{...be,onKeyDown(B){x.current=!1;const ce=B.key.indexOf("Arrow")===0,ue=Fr(B.key,w,g),me=sn(B.key,w,g),$e=on(B.key,w),An=(m?ue:$e)||B.key==="Enter"||B.key.trim()==="";if(O&&n){const Nt=I==null?void 0:I.nodesRef.current.find(je=>je.parentId==null),ye=I&&Nt?Tr(I.nodesRef.current,Nt.id):null;if(ce&&ye&&W){const je=new KeyboardEvent("keydown",{key:B.key,bubbles:!0});if(ue||me){var St,Dt;const Ln=((St=ye.context)==null?void 0:St.elements.domReference)===B.currentTarget,_t=me&&!Ln?(Dt=ye.context)==null?void 0:Dt.elements.domReference:ue?Re:null;_t&&(te(B),_t.dispatchEvent(je),Y(void 0))}if($e&&ye.context&&ye.context.open&&ye.parentId&&B.currentTarget!==ye.context.elements.domReference){var Ft;te(B),(Ft=ye.context.elements.domReference)==null||Ft.dispatchEvent(je);return}}return X(B)}if(!(!n&&!A&&ce)){if(An&&(v.current=m&&$e?null:B.key),m){ue&&(te(B),n?(R.current=ut(s,V),E(R.current)):r(!0,B.nativeEvent,"list-navigation"));return}$e&&(f!=null&&(R.current=f),te(B),!n&&A?r(!0,B.nativeEvent,"list-navigation"):X(B),n&&E(R.current))}},onFocus(){n&&E(null)},onPointerDown:Z,onMouseDown:q,onClick:q},floating:{"aria-orientation":w==="both"?void 0:w,...be,onKeyDown:X,onPointerMove(){x.current=!0}},item:U}},[i,o,_,j,Q,F,s,h,w,g,O,n,H,m,f,A,p,M,u,y,E,r,U,I,W])}function io(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,c=it();return d.useMemo(()=>{if(!o)return{};const s={id:r,...i!=="label"&&{role:i}};return i==="tooltip"||i==="label"?{reference:{["aria-"+(i==="label"?"labelledby":"describedby")]:n?r:void 0},floating:s}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:c}},floating:{...s,...i==="menu"&&{"aria-labelledby":c}}}},[o,i,n,r,c])}function so(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:c,onMatch:s,onTypingChange:a,enabled:l=!0,findMatch:h=null,resetMs:f=750,ignoreKeys:p=[],selectedIndex:u=null}=t,m=d.useRef(),g=d.useRef(""),O=d.useRef((n=u??c)!=null?n:-1),y=d.useRef(null),b=ae(s),A=ae(a),k=de(h),w=de(p);return G(()=>{r&&(clearTimeout(m.current),y.current=null,g.current="")},[r]),G(()=>{if(r&&g.current===""){var M;O.current=(M=u??c)!=null?M:-1}},[r,u,c]),d.useMemo(()=>{if(!l)return{};function M(L){L?o.current.typing||(o.current.typing=L,A(L)):o.current.typing&&(o.current.typing=L,A(L))}function S(L,I,E){const D=k.current?k.current(I,E):I.find(R=>(R==null?void 0:R.toLocaleLowerCase().indexOf(E.toLocaleLowerCase()))===0);return D?L.indexOf(D):-1}function W(L){const I=i.current;if(g.current.length>0&&g.current[0]!==" "&&(S(I,I,g.current)===-1?M(!1):L.key===" "&&te(L)),I==null||w.current.includes(L.key)||L.key.length!==1||L.ctrlKey||L.metaKey||L.altKey)return;r&&L.key!==" "&&(te(L),M(!0)),I.every(v=>{var x,C;return v?((x=v[0])==null?void 0:x.toLocaleLowerCase())!==((C=v[1])==null?void 0:C.toLocaleLowerCase()):!0})&&g.current===L.key&&(g.current="",O.current=y.current),g.current+=L.key,clearTimeout(m.current),m.current=setTimeout(()=>{g.current="",O.current=y.current,M(!1)},f);const D=O.current,R=S(I,[...I.slice((D||0)+1),...I.slice(0,(D||0)+1)],g.current);R!==-1?(b(R),y.current=R):L.key!==" "&&(g.current="",M(!1))}return{reference:{onKeyDown:W},floating:{onKeyDown:W,onKeyUp(L){L.key===" "&&M(!1)}}}},[l,r,o,i,f,w,k,b,A])}function cn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let c=0,s=i-1;c<i;s=c++){const[a,l]=t[c]||[0,0],[h,f]=t[s]||[0,0];l>=r!=f>=r&&n<=(h-a)*(r-l)/(f-l)+a&&(o=!o)}return o}function Nr(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function co(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,c=null,s=null,a=performance.now();function l(f,p){const u=performance.now(),m=u-a;if(c===null||s===null||m===0)return c=f,s=p,a=u,null;const g=f-c,O=p-s,b=Math.sqrt(g*g+O*O)/m;return c=f,s=p,a=u,b}const h=f=>{let{x:p,y:u,placement:m,elements:g,onClose:O,nodeId:y,tree:b}=f;return function(k){function w(){clearTimeout(o),O()}if(clearTimeout(o),!g.domReference||!g.floating||m==null||p==null||u==null)return;const{clientX:M,clientY:S}=k,W=[M,S],L=we(k),I=k.type==="mouseleave",E=ee(g.floating,L),D=ee(g.domReference,L),R=g.domReference.getBoundingClientRect(),v=g.floating.getBoundingClientRect(),x=m.split("-")[0],C=p>v.right-v.width/2,P=u>v.bottom-v.height/2,T=Nr(W,R),$=v.width>R.width,Q=v.height>R.height,F=($?R:v).left,K=($?R:v).right,_=(Q?R:v).top,N=(Q?R:v).bottom;if(E&&(i=!0,!I))return;if(D&&(i=!1),D&&!I){i=!0;return}if(I&&J(k.relatedTarget)&&ee(g.floating,k.relatedTarget)||b&&Ce(b.nodesRef.current,y).some(z=>{let{context:H}=z;return H==null?void 0:H.open}))return;if(x==="top"&&u>=R.bottom-1||x==="bottom"&&u<=R.top+1||x==="left"&&p>=R.right-1||x==="right"&&p<=R.left+1)return w();let j=[];switch(x){case"top":j=[[F,R.top+1],[F,v.bottom-1],[K,v.bottom-1],[K,R.top+1]];break;case"bottom":j=[[F,v.top+1],[F,R.bottom-1],[K,R.bottom-1],[K,v.top+1]];break;case"left":j=[[v.right-1,N],[v.right-1,_],[R.left+1,_],[R.left+1,N]];break;case"right":j=[[R.right-1,N],[R.right-1,_],[v.left+1,_],[v.left+1,N]];break}function Y(z){let[H,U]=z;switch(x){case"top":{const V=[$?H+t/2:C?H+t*4:H-t*4,U+t+1],X=[$?H-t/2:C?H+t*4:H-t*4,U+t+1],q=[[v.left,C||$?v.bottom-t:v.top],[v.right,C?$?v.bottom-t:v.top:v.bottom-t]];return[V,X,...q]}case"bottom":{const V=[$?H+t/2:C?H+t*4:H-t*4,U-t],X=[$?H-t/2:C?H+t*4:H-t*4,U-t],q=[[v.left,C||$?v.top+t:v.bottom],[v.right,C?$?v.top+t:v.bottom:v.top+t]];return[V,X,...q]}case"left":{const V=[H+t+1,Q?U+t/2:P?U+t*4:U-t*4],X=[H+t+1,Q?U-t/2:P?U+t*4:U-t*4];return[...[[P||Q?v.right-t:v.left,v.top],[P?Q?v.right-t:v.left:v.right-t,v.bottom]],V,X]}case"right":{const V=[H-t,Q?U+t/2:P?U+t*4:U-t*4],X=[H-t,Q?U-t/2:P?U+t*4:U-t*4],q=[[P||Q?v.left+t:v.right,v.top],[P?Q?v.left+t:v.right:v.left+t,v.bottom]];return[V,X,...q]}}}if(!cn([M,S],j)){if(i&&!T)return w();if(!I&&r){const z=l(k.clientX,k.clientY);if(z!==null&&z<.1)return w()}cn([M,S],Y([p,u]))?!i&&r&&(o=window.setTimeout(w,40)):w()}}};return h.__options={blockPointerEvents:n},h}export{Jr as F,Wr as a,qr as b,jr as c,ro as d,Zr as e,Vr as f,Ur as g,co as h,eo as i,io as j,Yr as k,oo as l,so as m,Xr as n,Hr as o,zr as p,Gr as q,Qr as r,$r as s,no as t,to as u};
