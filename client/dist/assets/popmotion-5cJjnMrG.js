import{c as te}from"./tslib-tZO3Bsl6.js";import{w as De,i as G}from"./hey-listen-Zgamshqw.js";import{i as N,r as _,j as Ie,c as ne,e as se}from"./style-value-types-o7J0MQmo.js";import{s as Te,c as Re,g as we}from"./framesync-X-BpIJdM.js";const B=(e,t,n)=>Math.min(Math.max(n,e),t),C=.001,Ae=.01,$=10,Ee=.05,je=1;function ke({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,a;De(e<=$*1e3);let s=1-t;s=B(Ee,je,s),e=B(Ae,$,e/1e3),s<1?(o=u=>{const d=u*s,p=d*e,x=d-n,O=H(u,s),M=Math.exp(-p);return C-x/O*M},a=u=>{const p=u*s*e,x=p*n+n,O=Math.pow(s,2)*Math.pow(u,2)*e,M=Math.exp(-p),S=H(Math.pow(u,2),s);return(-o(u)+C>0?-1:1)*((x-O)*M)/S}):(o=u=>{const d=Math.exp(-u*e),p=(u-n)*e+1;return-C+d*p},a=u=>{const d=Math.exp(-u*e),p=(n-u)*(e*e);return d*p});const l=5/e,c=Fe(o,a,l);if(e=e*1e3,isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Ce=12;function Fe(e,t,n){let r=n;for(let o=1;o<Ce;o++)r=r-e(r)/t(r);return r}function H(e,t){return e*Math.sqrt(1-t*t)}const Ne=["duration","bounce"],_e=["stiffness","damping","mass"];function J(e,t){return t.some(n=>e[n]!==void 0)}function Be(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!J(e,_e)&&J(e,Ne)){const n=ke(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}function z(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:o}=e,a=te(e,["from","to","restSpeed","restDelta"]);const s={done:!1,value:t};let{stiffness:l,damping:c,mass:u,velocity:d,duration:p,isResolvedFromDuration:x}=Be(a),O=Q,M=Q;function S(){const g=d?-(d/1e3):0,y=n-t,m=c/(2*Math.sqrt(l*u)),i=Math.sqrt(l/u)/1e3;if(o===void 0&&(o=Math.min(Math.abs(n-t)/100,.4)),m<1){const f=H(i,m);O=h=>{const b=Math.exp(-m*i*h);return n-b*((g+m*i*y)/f*Math.sin(f*h)+y*Math.cos(f*h))},M=h=>{const b=Math.exp(-m*i*h);return m*i*b*(Math.sin(f*h)*(g+m*i*y)/f+y*Math.cos(f*h))-b*(Math.cos(f*h)*(g+m*i*y)-f*y*Math.sin(f*h))}}else if(m===1)O=f=>n-Math.exp(-i*f)*(y+(g+i*y)*f);else{const f=i*Math.sqrt(m*m-1);O=h=>{const b=Math.exp(-m*i*h),v=Math.min(f*h,300);return n-b*((g+m*i*y)*Math.sinh(v)+f*y*Math.cosh(v))/f}}}return S(),{next:g=>{const y=O(g);if(x)s.done=g>=p;else{const m=M(g)*1e3,i=Math.abs(m)<=r,f=Math.abs(n-y)<=o;s.done=i&&f}return s.value=s.done?n:y,s},flipTarget:()=>{d=-d,[t,n]=[n,t],S()}}}z.needsInterpolation=(e,t)=>typeof e=="string"||typeof t=="string";const Q=e=>0,re=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},q=(e,t,n)=>-n*e+n*t+e;function F(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function W({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,a=0,s=0;if(!t)o=a=s=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;o=F(c,l,e+1/3),a=F(c,l,e),s=F(c,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const He=(e,t,n)=>{const r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},Ve=[Ie,_,N],Z=e=>Ve.find(t=>t.test(e)),oe=(e,t)=>{let n=Z(e),r=Z(t),o=n.parse(e),a=r.parse(t);n===N&&(o=W(o),n=_),r===N&&(a=W(a),r=_);const s=Object.assign({},o);return l=>{for(const c in s)c!=="alpha"&&(s[c]=He(o[c],a[c],l));return s.alpha=q(o.alpha,a.alpha,l),n.transform(s)}},V=e=>typeof e=="number",Le=(e,t)=>n=>t(e(n)),ae=(...e)=>e.reduce(Le);function ce(e,t){return V(e)?n=>q(e,t,n):se.test(e)?oe(e,t):le(e,t)}const ie=(e,t)=>{const n=[...e],r=n.length,o=e.map((a,s)=>ce(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=o[s](a);return n}},Pe=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=ce(e[o],t[o]));return o=>{for(const a in r)n[a]=r[a](o);return n}};function Y(e){const t=ne.parse(e),n=t.length;let r=0,o=0,a=0;for(let s=0;s<n;s++)r||typeof t[s]=="number"?r++:t[s].hue!==void 0?a++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:a}}const le=(e,t)=>{const n=ne.createTransformer(t),r=Y(e),o=Y(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?ae(ie(r.parsed,o.parsed),n):s=>`${s>0?t:e}`},ze=(e,t)=>n=>q(e,t,n);function qe(e){if(typeof e=="number")return ze;if(typeof e=="string")return se.test(e)?oe:le;if(Array.isArray(e))return ie;if(typeof e=="object")return Pe}function Ue(e,t,n){const r=[],o=n||qe(e[0]),a=e.length-1;for(let s=0;s<a;s++){let l=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]:t;l=ae(c,l)}r.push(l)}return r}function Ke([e,t],[n]){return r=>n(re(e,t,r))}function Ge(e,t){const n=e.length,r=n-1;return o=>{let a=0,s=!1;if(o<=e[0]?s=!0:o>=e[r]&&(a=r-1,s=!0),!s){let c=1;for(;c<n&&!(e[c]>o||c===r);c++);a=c-1}const l=re(e[a],e[a+1],o);return t[a](l)}}function ue(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const a=e.length;G(a===t.length),G(!r||!Array.isArray(r)||r.length===a-1),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const s=Ue(t,r,o),l=a===2?Ke(e,s):Ge(e,s);return n?c=>l(B(e[0],e[a-1],c)):l}const j=e=>t=>1-e(1-t),U=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$e=e=>t=>Math.pow(t,e),fe=e=>t=>t*t*((e+1)*t-e),Je=e=>{const t=fe(e);return n=>(n*=2)<1?.5*t(n):.5*(2-Math.pow(2,-10*(n-1)))},pe=1.525,Qe=4/11,We=8/11,Ze=9/10,Ye=e=>e,de=$e(2),It=j(de),Xe=U(de),et=e=>1-Math.sin(Math.acos(e)),tt=j(et),Tt=U(tt),he=fe(pe),Rt=j(he),wt=U(he),At=Je(pe),nt=4356/361,st=35442/1805,rt=16061/1805,L=e=>{if(e===1||e===0)return e;const t=e*e;return e<Qe?7.5625*t:e<We?9.075*t-9.9*e+3.4:e<Ze?nt*t-st*e+rt:10.8*e*e-20.52*e+10.72},Et=j(L),jt=e=>e<.5?.5*(1-L(1-e*2)):.5*L(e*2-1)+.5;function ot(e,t){return e.map(()=>t||Xe).splice(0,e.length-1)}function at(e){const t=e.length;return e.map((n,r)=>r!==0?r/(t-1):0)}function ct(e,t){return e.map(n=>n*t)}function w({from:e=0,to:t=1,ease:n,offset:r,duration:o=300}){const a={done:!1,value:e},s=Array.isArray(t)?t:[e,t],l=ct(r&&r.length===s.length?r:at(s),o);function c(){return ue(l,s,{ease:Array.isArray(n)?n:ot(s,n)})}let u=c();return{next:d=>(a.value=u(d),a.done=d>=o,a),flipTarget:()=>{s.reverse(),u=c()}}}function it({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:a}){const s={done:!1,value:t};let l=n*e;const c=t+l,u=a===void 0?c:a(c);return u!==c&&(l=u-t),{next:d=>{const p=-l*Math.exp(-d/r);return s.done=!(p>o||p<-o),s.value=s.done?u:u+p,s},flipTarget:()=>{}}}const X={keyframes:w,spring:z,decay:it};function lt(e){if(Array.isArray(e.to))return w;if(X[e.type])return X[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?w:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?z:w}function me(e,t,n=0){return e-t-n}function ut(e,t,n=0,r=!0){return r?me(t+-e,t,n):t-(e-t)+n}function ft(e,t,n,r){return r?e>=t+n:e<=-n}const pt=e=>{const t=({delta:n})=>e(n);return{start:()=>Te.update(t,!0),stop:()=>Re.update(t)}};function dt(e){var t,n,{from:r,autoplay:o=!0,driver:a=pt,elapsed:s=0,repeat:l=0,repeatType:c="loop",repeatDelay:u=0,onPlay:d,onStop:p,onComplete:x,onRepeat:O,onUpdate:M}=e,S=te(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:g}=S,y,m=0,i=S.duration,f,h=!1,b=!0,v;const I=lt(S);!((n=(t=I).needsInterpolation)===null||n===void 0)&&n.call(t,r,g)&&(v=ue([0,100],[r,g],{clamp:!1}),r=0,g=100);const D=I(Object.assign(Object.assign({},S),{from:r,to:g}));function xe(){m++,c==="reverse"?(b=m%2===0,s=ut(s,i,u,b)):(s=me(s,i,u),c==="mirror"&&D.flipTarget()),h=!1,O&&O()}function Oe(){y.stop(),x&&x()}function Se(k){if(b||(k=-k),s+=k,!h){const K=D.next(Math.max(0,s));f=K.value,v&&(f=v(f)),h=b?K.done:s<=0}M==null||M(f),h&&(m===0&&(i??(i=s)),m<l?ft(s,i,u,b)&&xe():Oe())}function ve(){d==null||d(),y=a(Se),y.start()}return o&&ve(),{stop:()=>{p==null||p(),y.stop()}}}function ht(e,t){return t?e*(1e3/t):0}function kt({from:e=0,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:a=750,bounceStiffness:s=500,bounceDamping:l=10,restDelta:c=1,modifyTarget:u,driver:d,onUpdate:p,onComplete:x,onStop:O}){let M;function S(i){return n!==void 0&&i<n||r!==void 0&&i>r}function g(i){return n===void 0?r:r===void 0||Math.abs(n-i)<Math.abs(r-i)?n:r}function y(i){M==null||M.stop(),M=dt(Object.assign(Object.assign({},i),{driver:d,onUpdate:f=>{var h;p==null||p(f),(h=i.onUpdate)===null||h===void 0||h.call(i,f)},onComplete:x,onStop:O}))}function m(i){y(Object.assign({type:"spring",stiffness:s,damping:l,restDelta:c},i))}if(S(e))m({from:e,velocity:t,to:g(e)});else{let i=o*t+e;typeof u<"u"&&(i=u(i));const f=g(i),h=f===n?-1:1;let b,v;const I=D=>{b=v,v=D,t=ht(D-b,we().delta),(h===1&&D>f||h===-1&&D<f)&&m({from:D,to:f,velocity:t})};y({type:"decay",from:e,velocity:t,timeConstant:a,power:o,restDelta:c,modifyTarget:u,onUpdate:S(i)?I:void 0})}return{stop:()=>M==null?void 0:M.stop()}}const P=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),ee=e=>P(e)&&e.hasOwnProperty("z"),T=(e,t)=>Math.abs(e-t);function Ct(e,t){if(V(e)&&V(t))return T(e,t);if(P(e)&&P(t)){const n=T(e.x,t.x),r=T(e.y,t.y),o=ee(e)&&ee(t)?T(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}const ye=(e,t)=>1-3*t+3*e,Me=(e,t)=>3*t-6*e,ge=e=>3*e,E=(e,t,n)=>((ye(t,n)*e+Me(t,n))*e+ge(t))*e,be=(e,t,n)=>3*ye(t,n)*e*e+2*Me(t,n)*e+ge(t),mt=1e-7,yt=10;function Mt(e,t,n,r,o){let a,s,l=0;do s=t+(n-t)/2,a=E(s,r,o)-e,a>0?n=s:t=s;while(Math.abs(a)>mt&&++l<yt);return s}const gt=8,bt=.001;function xt(e,t,n,r){for(let o=0;o<gt;++o){const a=be(t,n,r);if(a===0)return t;const s=E(t,n,r)-e;t-=s/a}return t}const A=11,R=1/(A-1);function Ft(e,t,n,r){if(e===t&&n===r)return Ye;const o=new Float32Array(A);for(let s=0;s<A;++s)o[s]=E(s*R,e,n);function a(s){let l=0,c=1;const u=A-1;for(;c!==u&&o[c]<=s;++c)l+=R;--c;const d=(s-o[c])/(o[c+1]-o[c]),p=l+d*R,x=be(p,e,n);return x>=bt?xt(s,p,e,n):x===0?p:Mt(s,l,l+R,e,n)}return s=>s===0||s===1?s:E(a(s),t,r)}export{Xe as a,It as b,Ft as c,et as d,de as e,Tt as f,tt as g,he as h,wt as i,Rt as j,At as k,Ye as l,Et as m,jt as n,L as o,ae as p,kt as q,dt as r,Ct as s,q as t,re as u,ht as v,B as w};
